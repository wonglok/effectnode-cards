{
  "rules": {
    ".read": false,
    ".write": false,
    "usernames": {
      "$username": {
        ".write": "!data.exists() && auth!= null && newData.val() == auth.uid"
      }
    },
    "places": {
      ".read": true,
      "$placeID": {
        ".write": "(!data.exists() || data.child('author').val() == auth.uid) && (newData.child('author').val() == auth.uid || !newData.exists())"
      }
    },
    "assets": {
      ".read": true,
      "$assetID": {
        ".write": "root.child('admins/'+auth.uid).exists()"
      }
    },
    "cards": {
      ".read": true,
      "$cardID": {
        ".write": "root.child('admins/'+auth.uid).exists()"
      }
    },
    "profile": {
      "$owner_user_id": {
        "canvas": {
          ".read": "auth !== null",
          "$canvasID": {
            ".write": "auth !== null && auth.uid === $owner_user_id",
            "shareACL": {
              ".write": "auth !== null && auth.uid === $owner_user_id",
            },
            "ownerACL": {
              ".write": "auth !== null && auth.uid === $owner_user_id",
            }
          },
        },
        "layout": {
          ".read": "auth !== null",
          "$canvasID": {
            ".write": "auth !== null && auth.uid === $owner_user_id",
            "shareACL": {
              ".write": "auth !== null && auth.uid === $owner_user_id",
            },
            "ownerACL": {
              ".write": "auth !== null && auth.uid === $owner_user_id",
            }
          },
        }
      },
    },
    "canvas": {
      "$canvasID": {
        ".read": true,
        "$ownerID": {
          ".read": true,
          ".write": "auth !== null && auth.uid === $ownerID || auth !== null && root.child('profile').child($ownerID).child('canvas').child($canvasID).child('shareACL').hasChild(auth.uid)"
        }
      }
    },
    "layout": {
      "$layoutID": {
        ".read": true,
        "$ownerID": {
          ".read": true,
          ".write": "auth !== null && auth.uid === $ownerID || auth !== null && root.child('profile').child($ownerID).child('layout').child($layoutID).child('shareACL').hasChild(auth.uid)"
        }
      }
    }
  }
}